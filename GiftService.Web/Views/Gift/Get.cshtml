@model GiftService.Models.ProductInformationModel

@{
    ViewBag.Title = String.Concat(Model.Pos.Name, " - ", Model.Product.ProductName);
}


@Html.DisplayTempMessage()

<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <h2>@Model.Pos.PosUrl.Host</h2>
    </div>
</div>
<div class="row">
    <div id="GiftFinancial" class="col-md-1">
        @*<div>
            Order # @Model.Product.Id
        </div>*@
    </div>
    <div id="GiftInfo" class="col-md-5">
        <p>
            @Resources.Language.Gift_Get_ServiceLabel<br />
            <strong>@Html.Raw(Model.Product.ProductName)<br /></strong>
            @Html.DisplayOrNotSet(Model.Product.ProductDescription, Resources.Language.Gift_Get_NoDescription)</p>

        <p>
            @Resources.Language.Gift_Get_ProductDurationLabel
            @Html.DisplayOrNotSet(Model.Product.ProductDuration, Resources.Language.Payment_Checkout_DurationNotSet)
        </p>

        <p>@Html.Raw(Model.PosAddress)</p>
        @*<div>Price: @Model.Product.ProductPrice.ToString("N2") @Model.Product.CurrencyCode</div>*@
        
        @if (Model.IsPaidOk)
        {
            <div>
                @Resources.Language.Gift_Get_CouponIsValidTill @Model.Product.ValidTill.ToShortDateString()
            </div>
            <p class=""><span style="color: #f00;">@Resources.Language.Gift_Get_YouMustReserve</span><br />
                @Html.Raw(String.Join("<br />", new string[] { Model.Product.PhoneForReservation, Model.Product.EmailForReservation }))
            </p>
        }

        @*<p>@Resources.Language.Gift_Get_ThankYouForUsingUs</p>*@
    </div>
    <div id="GiftActions" class="col-md-5">
        @if (Model.IsPaidOk)
        {
            <div class="btn-group-vertical">
                <button class="btn btn-info">@Resources.Language.Gift_Get_PaidAt
                @Model.PaymentDate.ToShortDateString()</button>
                <button id="BtnDownload" class="btn btn-default">@Resources.Language.Gift_Get_DownloadCoupon</button>
                <button id="BtnPrint" class="btn btn-default">@Resources.Language.Gift_Get_PrintCoupon</button>
                @*<button id="BtnGift" class="btn btn-default">Dovanu cekis</button>*@
            </div>
            @*<div id="CongratsDiv" class="panel panel-group" style="display: none;">
                <div class="panel-body">
                    <label for="email">@Resources.Language.Gift_Get_GiftEmailLabel</label>
                    <input type="email" placeholder="Enter e-mail" class="input-sm form-control" value="@Model.Product.CustomerEmail" /><br />
                    <textarea type="email" placeholder="Enter congrats" class="input-sm form-control" maxlength="230"></textarea><br />
                    <button class="btn btn-xs btn-primary">@Resources.Language.Gift_Get_ButtonSendAsEmail</button>
                    <button class="btn btn-xs btn-primary">@Resources.Language.Gift_Get_ButtonDownloadAsPdf</button>
                </div>
            </div>*@
        }
        else if (Model.PaymentStatus == GiftService.Models.PaymentStatusIds.AcceptedButNotExecuted)
        {
            <div class="alert alert-warning text-center">
                @Resources.Language.Gift_Get_PaymentIsProcessing
            </div>
        }else
        {
            <div class="alert alert-danger text-center">
                @Resources.Language.Gift_Get_PaymentWasNot
            </div>
        }


    </div>
</div>

<div class="row">
    <div class="col-md-5 col-md-offset-1">@Resources.Language.Gift_Get_ThankYouForUsingUs</div>
</div>


@section scripts
{
    <script type="text/javascript">

        $(function () {
            $("#BtnPrint").click(function (e) {
                e.preventDefault();
                window.location.href = "@Url.Action("Print", "Gift", new { id = Model.Product.ProductUid })";
            });
            $("#BtnDownload").click(function (e) {
                e.preventDefault();
                window.location.href = "@Url.Action("Download", "Gift", new { id = Model.Product.ProductUid })";
            });

            $("#BtnGift").click(function (e) {
                e.preventDefault();
                $("#CongratsDiv").toggle();
            })
        });

    </script>    
}
